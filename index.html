<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Bezzi Eyewear Products</title>

    <!-- Bootstrap CSS for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .product-card {
            border: 1px solid #bbb;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease-in-out;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .product-card img {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .product-price del {
            color: gray;
        }

        .product-price span {
            color: red;
            font-weight: bold;
        }

        .navbar {
            padding-top: 0.1rem;
            padding-bottom: 0.1rem;
            min-height: 100px;
            align-items: center;
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
        }

        .logo-img {
            height: 140px;
            width: auto;
            object-fit: contain;
            display: block;
        }
    </style>
</head>

<body class="bg-light">

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white px-3 shadow-sm">
        <a class="navbar-brand d-flex align-items-center" href="#">
            <img src="uploads/logo.png" alt="Bezzi Logo" class="logo-img">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>

    <!-- Page Header -->
    <h2 class="text-center py-3">Bezzi Eyewear Products</h2>

    <!-- Filters and Search Bar -->
    <div class="container py-4">
        <div class="row mb-4">
            <div class="col-md-6">
                <input type="text" id="searchBar" class="form-control" placeholder="Kërko sipas titullit...">
            </div>
            <div class="col-md-6">
                <select id="categoryFilter" class="form-select">
                    <option value="">Filtro sipas kategorisë</option>
                    <option>Rayban</option>
                    <option>Rayban Ferrari</option>
                    <option>Rayban Marshall</option>
                    <option>Emporio Armani</option>
                    <option>Rayban Optics</option>
                    <option>Ralph Lauren</option>
                    <option>Persol</option>
                    <option>Lacoste</option>
                    <option>Tom Ford</option>
                    <option>Miu Miu</option>
                    <option>Burberry</option>
                    <option>Guess</option>
                    <option>Versace</option>
                    <option>Karl Lagerfeld</option>
                    <option>Police</option>
                    <option>Faconable</option>
                    <option>Carrera</option>
                    <option>Jaguar</option>
                    <option>Polo</option>
                    <option>Prada</option>
                    <option>Prada Sport</option>
                    <option>Hugo Boss</option>
                </select>
            </div>
        </div>

        <!-- Products Display -->
        <div id="productContainer" class="row g-4"></div>

        <!-- Pagination -->
        <nav>
            <ul id="pagination" class="pagination mt-4"></ul>
        </nav>
    </div>

    <!-- Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // List of products
        const products = [
            {
                title: "Rayban Ferrari Red RB8331-MF001/71",
                category: "Rayban Ferrari",
                price: 250,
                discount: 200,
                images: ["uploads/Raybanferr2.png", "uploads/raybanferr3.png", "uploads/raybanferr4.jpg"]
            },
            {
                title: "Rayban Marshall RB 3648-M The Marshall || 004/71",
                category: "Rayban Marshall",
                price: 220,
                discount: 180,
                images: ["uploads/raybanm1.jpg", "uploads/raybanm2.jpg"]
            },
            {
                title: "Rayban Marshall RB 3648-M The Marshall || 002/58",
                category: "Rayban Marshall",
                price: 260,
                discount: 210,
                gender: "mashkull",
                type: "dielli",
                images: ["uploads/raybanm4.png", "uploads/raybanm3.png"]
            },
            {
                title: "Rayban RB3663 004/3M",
                category: "Rayban",
                price: 200,
                discount: 175,
                images: ["uploads/ray66.jpg", "uploads/ray67.jpg"]
            },
            // ... Add the rest of your product list here (same structure as above)
        ];

        // Constants for pagination
        const perPage = 12;
        let currentPage = 1;

        // Function to display products on the page
        function displayProducts(filteredProducts) {
            const container = $("#productContainer");
            container.empty();
            const start = (currentPage - 1) * perPage;
            const end = start + perPage;
            const pageItems = filteredProducts.slice(start, end);

            pageItems.forEach((p, index) => {
                let imageHTML = "";
                if (p.images && Array.isArray(p.images)) {
                    const carouselId = `carousel-${currentPage}-${index}`;
                    imageHTML = `
                    <div id="${carouselId}" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            ${p.images.map((img, i) => `
                                <div class="carousel-item ${i === 0 ? 'active' : ''}">
                                    <img src="${img}" class="d-block w-100" alt="${p.title}">
                                </div>
                            `).join('')}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#${carouselId}" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#${carouselId}" data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                    `;
                } else {
                    imageHTML = `<img src="${p.images[0]}" class="card-img-top" alt="${p.title}">`;
                }

                container.append(`
                    <div class="col-md-4">
                        <div class="card product-card">
                            ${imageHTML}
                            <div class="card-body">
                                <h5 class="card-title">${p.title}</h5>
                                <p class="card-text text-muted">${p.category}</p>
                                <p class="product-price">
                                    <del>€${p.price}</del> <span>€${p.discount}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                `);
            });
        }

        // Function to handle pagination
        function updatePagination(filteredProducts) {
            const totalPages = Math.ceil(filteredProducts.length / perPage);
            const pagination = $("#pagination");
            pagination.empty();

            for (let i = 1; i <= totalPages; i++) {
                pagination.append(`
                    <li class="page-item ${i === currentPage ? 'active' : ''}">
                        <a class="page-link" href="#">${i}</a>
                    </li>
                `);
            }

            $(".page-link").click(function (e) {
                e.preventDefault();
                currentPage = parseInt($(this).text());
                applyFilters();
            });
        }

        // Function to apply filters (search, category, etc.)
        function applyFilters() {
            const searchTerm = $("#searchBar").val().toLowerCase();
            const selectedCategory = $("#categoryFilter").val();

            const filtered = products.filter(p => {
                const matchesSearch = p.title.toLowerCase().includes(searchTerm);
                const matchesCategory = !selectedCategory || p.category === selectedCategory;
                return matchesSearch && matchesCategory;
            });

            displayProducts(filtered);
            updatePagination(filtered);
        }

        // Event listener for filters and search bar
        $(document).ready(() => {
            applyFilters();
            $("#searchBar, #categoryFilter").on("input change", function () {
                currentPage = 1;
                applyFilters();
            });
        });
    </script>
</body>
</html>
